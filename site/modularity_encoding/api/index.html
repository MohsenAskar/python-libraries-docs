
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://mohsenaskar.github.io/python-libraries-docs/modularity_encoding/api/">
      
      
        <link rel="prev" href="../usage/">
      
      
        <link rel="next" href="../../stata_codebook/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.5.49">
    
    
      
        <title>API Reference - Python Libraries developed by Mohsen Askar</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.6f8fc17f.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i%7CJetBrains+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Open Sans";--md-code-font:"JetBrains Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#functions-overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
<img src="https://mohsenaskar.github.io/python-libraries-docs/assets/img/avatar.JPG" alt="Mohsen Askar" class="avatar" onerror="this.style.display='none'">

      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Python Libraries developed by Mohsen Askar" class="md-header__button md-logo" aria-label="Python Libraries developed by Mohsen Askar" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Python Libraries developed by Mohsen Askar
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API Reference
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="orange"  aria-label=""  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5s-1.65.15-2.39.42zM3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29zm.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14zM20.65 7l-1.77 3.79a7.02 7.02 0 0 0-2.38-4.15zm-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29zM12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="orange"  aria-label=""  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3zm3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95zm-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    

    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../" class="md-tabs__link">
          
  
    
  
  üõ†Ô∏èüì¶ Modularity Encoding

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../stata_codebook/" class="md-tabs__link">
          
  
    
  
  üìä Stata Codebook

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../mydataviewer-GUI/" class="md-tabs__link">
          
  
    
  
  üñ•Ô∏è My DataViewer GUI

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../assumption_sheriff/" class="md-tabs__link">
          
  
    
  
  üëÆ‚Äç‚ôÇÔ∏è‚≠ê Assumption Sheriff

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../data_insightron/" class="md-tabs__link">
          
  
    
  
  ü§ñ DataInsightron

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../audio2topics/" class="md-tabs__link">
          
  
    
  
  üîäüóÇÔ∏è Audio2Topics

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Python Libraries developed by Mohsen Askar" class="md-nav__button md-logo" aria-label="Python Libraries developed by Mohsen Askar" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Python Libraries developed by Mohsen Askar
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
        
        
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    üõ†Ô∏èüì¶ Modularity Encoding
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            üõ†Ô∏èüì¶ Modularity Encoding
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#functions-overview" class="md-nav__link">
    <span class="md-ellipsis">
      Functions Overview
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Functions Overview">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#main-function" class="md-nav__link">
    <span class="md-ellipsis">
      Main Function
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#supplementary-functions" class="md-nav__link">
    <span class="md-ellipsis">
      Supplementary Functions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-main-function-modularity_encode" class="md-nav__link">
    <span class="md-ellipsis">
      The main function modularity_encode
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The main function modularity_encode">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns" class="md-nav__link">
    <span class="md-ellipsis">
      Returns:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-second-function-create_code_system_network" class="md-nav__link">
    <span class="md-ellipsis">
      The second function create_code_system_network
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The second function create_code_system_network">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_1" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-third-function-detect_code_system_communities" class="md-nav__link">
    <span class="md-ellipsis">
      The third function detect_code_system_communities
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The third function detect_code_system_communities">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_2" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fourth-function-encode_code_system_to_module" class="md-nav__link">
    <span class="md-ellipsis">
      The fourth function encode_code_system_to_module
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The fourth function encode_code_system_to_module">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_3" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-fifth-function-print_edge_list" class="md-nav__link">
    <span class="md-ellipsis">
      The fifth function print_edge_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#the-sixth-function-assign_module" class="md-nav__link">
    <span class="md-ellipsis">
      The sixth function assign_module
    </span>
  </a>
  
    <nav class="md-nav" aria-label="The sixth function assign_module">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#parameters_4" class="md-nav__link">
    <span class="md-ellipsis">
      Parameters:
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#returns_1" class="md-nav__link">
    <span class="md-ellipsis">
      Returns:
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Returns:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#assumptions" class="md-nav__link">
    <span class="md-ellipsis">
      Assumptions
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#user-example" class="md-nav__link">
    <span class="md-ellipsis">
      User example
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#faq" class="md-nav__link">
    <span class="md-ellipsis">
      FAQ
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../stata_codebook/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    üìä Stata Codebook
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            üìä Stata Codebook
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stata_codebook/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../stata_codebook/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../mydataviewer-GUI/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    üñ•Ô∏è My DataViewer GUI
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            üñ•Ô∏è My DataViewer GUI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mydataviewer-GUI/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mydataviewer-GUI/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../assumption_sheriff/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    üëÆ‚Äç‚ôÇÔ∏è‚≠ê Assumption Sheriff
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            üëÆ‚Äç‚ôÇÔ∏è‚≠ê Assumption Sheriff
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assumption_sheriff/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../assumption_sheriff/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../data_insightron/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    ü§ñ DataInsightron
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            ü§ñ DataInsightron
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_insightron/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../data_insightron/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
        
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../audio2topics/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    üîäüóÇÔ∏è Audio2Topics
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_7" id="__nav_7_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            üîäüóÇÔ∏è Audio2Topics
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../audio2topics/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../audio2topics/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API Reference
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>API Reference</h1>

<h2 id="functions-overview">Functions Overview</h2>
<p>The <strong><code>modularity_encoding</code></strong> package comprises <strong>One</strong> main function and <strong>five</strong> supplementary functions. These functions can either be used together in a pipeline for detailed control and inspection or executed all at once using the main function for convenience.</p>
<h3 id="main-function">Main Function</h3>
<ul>
<li><strong><code>modularity_encode</code></strong>: Executes the full modularity encoding workflow in a single call. This function is ideal for users who need a straightforward and quick way to apply the encoding to their dataset.</li>
</ul>
<h3 id="supplementary-functions">Supplementary Functions</h3>
<p>These functions are designed for users who prefer to manually handle each step of the process, allowing for greater flexibility and inspection at each stage:</p>
<ul>
<li><strong><code>create_code_system_network</code></strong>: Constructs a network from the health coding system codes based on their occurrences within a dataset.</li>
<li><strong><code>detect_code_system_communities</code></strong>: Identifies communities (or modules) within the created network.</li>
<li><strong><code>encode_code_system_to_module</code></strong>: Assigns each code in the dataset to the detected community module, effectively reducing the dimensionality of the dataset.</li>
<li><strong><code>print_edge_list</code></strong>: Outputs a list of edges from the network, useful for debugging or detailed analysis.</li>
<li><strong><code>assign_module</code></strong>: Assigns and records the module for each code system code in the dataset.</li>
</ul>
<h3 id="the-main-function-modularity_encode">The main function <code>modularity_encode</code></h3>
<p>The <strong><code>modularity_encode</code></strong> function is used to execute the whole flow in one line of code. It takes in a pandas data frame data that contains patient data with a code_system column.</p>
<h4 id="parameters">Parameters:</h4>
<ul>
<li><strong>data</strong> (<code>pd.DataFrame</code>): The input data.</li>
<li><strong>code_system_col</strong> (<code>str</code>, optional): Column name representing the code system. Defaults to 'code_system'.</li>
<li><strong>patientid_col</strong> (<code>str</code>, optional): Column name representing the patient ID. Defaults to 'patientid'.</li>
<li><strong>resolution</strong> (<code>float</code>, optional): Granularity of the community detection. Defaults to 1.0.</li>
<li><strong>random_state</strong> (<code>int</code>, optional): Seed for the random number generator. Defaults to 42.</li>
<li><strong>output_col</strong> (<code>str</code>, optional): Column name where the module numbers will be saved. Defaults to 'module_number'.</li>
</ul>
<h4 id="returns">Returns:</h4>
<ul>
<li><strong>tuple</strong>:</li>
<li><strong>G</strong> (<code>nx.Graph</code>): The code system network graph.</li>
<li><strong>data</strong> (<code>pd.DataFrame</code>): Updated data with a new column containing module numbers for each code system.</li>
</ul>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="c1"># Import the dataset (example dataset)</span>
<a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>    <span class="s1">&#39;patientid&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    <span class="s1">&#39;code_system&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;J15&#39;</span><span class="p">,</span> <span class="s1">&#39;B24&#39;</span><span class="p">,</span> <span class="s1">&#39;I50&#39;</span><span class="p">,</span> <span class="s1">&#39;F06&#39;</span><span class="p">]</span>
<a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="p">})</span>
<a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="n">G</span><span class="p">,</span> <span class="n">processed_data</span><span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">modularity_encode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">code_system_col</span><span class="o">=</span><span class="s1">&#39;code_system&#39;</span><span class="p">,</span> <span class="n">patientid_col</span><span class="o">=</span><span class="s1">&#39;patientid&#39;</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">output_col</span><span class="o">=</span><span class="s1">&#39;module_number&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 6/6 [00:00&lt;00:00, 5996.15it/s]
</code></pre></div>
<p>The first function will do the full work. If the user wants to perform the encoding step by step, the following functions can be followed.</p>
<h3 id="the-second-function-create_code_system_network">The second function <code>create_code_system_network</code></h3>
<p>The <strong><code>create_code_system_network</code></strong> function is used to create a network of code systems based on patient data. It takes in a pandas data frame data that contains patient data with a code_system column and returns a NetworkX graph object G. The network is represented in nodes and edges. The nodes are the code of the code_system , for examples ICD-10 codes, and the edges between the nodes will represent the number of patients who had this pair of ICD-10 codes.</p>
<h4 id="parameters_1">Parameters:</h4>
<p>The function takes <strong>3</strong> arguments:</p>
<ul>
<li><em>data</em> (<code>pd.DataFrame</code>): the defined dataset</li>
<li><em>code_system_col</em> (<code>str</code>, optional): which defines the column contain the code system </li>
<li><em>patientid_col</em> (<code>str</code>, optional): which defines the patients ids in a longitudinal format. </li>
</ul>
<p>The function will count the number of patients combined each pair of code system codes and define that as the edges of the network while the nodes wil be the code system codes themselves as mentioned before. The fuction can be called as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="n">G</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">create_code_system_network</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">code_system_col</span><span class="o">=</span><span class="s1">&#39;code_system&#39;</span><span class="p">,</span> <span class="n">patientid_col</span><span class="o">=</span><span class="s1">&#39;patientid&#39;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 6/6 [00:00&lt;?, ?it/s]
</code></pre></div>
<p>The resulted network (<strong>G</strong>) is a NetworkX object and different commands of NetworkX can be applied on it by importing NetworkX module.</p>
<h3 id="the-third-function-detect_code_system_communities">The third function  <code>detect_code_system_communities</code></h3>
<p>The <strong><code>detect_code_system_communities</code></strong> function is used to detect communities within the code system network. It takes in a NetworkX graph object G and an optional random_state parameter for reproducibility and returns a dictionary code_system_to_module that maps each code system to its corresponding module number. The package uses the Louvain method described in Fast unfolding of communities in large networks, Vincent D Blondel, Jean-Loup Guillaume, Renaud Lambiotte, Renaud Lefebvre, Journal of Statistical Mechanics: Theory and Experiment 2008(10), P10008 (12pp). The package "community" https://github.com/taynaud/python-louvain and https://python-louvain.readthedocs.io/en/latest/api.html is used to detect the modules.</p>
<p>The modules can be interpreted as a cluster of code of code system which has denser connection among them than the rest of the network. As we build the network on the occurrences of these codes between patients, the modules can be interpreted as these codes of the code system tend to frequently cooccur in reality. For example if we use ICD codes (diagnoses), the modules will reveal the multimorbidity patterns in the dataset population, whereas if we use the ATC codes (medications), the modules will represent the comedication patterns in the dataset population.</p>
<h4 id="parameters_2">Parameters:</h4>
<ul>
<li><em>G</em>:the network created in the first function <em><code>create_code_system_network</code></em></li>
<li><em>random_state</em>:int, default(None), (optional)
The parameter will assign a fixes random_state value.</li>
<li><em>resolution</em>: double, default =1, (optional). 
The resolution of modularity detection can be modified in the paramerte "resolution" which will change the size of modules.  The default value is 1. represents the time described in <em>‚ÄúLaplacian Dynamics and Multiscale Modular Structure in Networks‚Äù, R. Lambiotte, J.-C. Delvenne, M. Barahona.</em></li>
</ul>
<p>The function can be called as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="n">modules</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">detect_code_system_communities</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="n">modules</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>{&#39;B24&#39;: 0, &#39;J15&#39;: 0, &#39;F06&#39;: 1, &#39;I50&#39;: 1}
</code></pre></div>
<h3 id="the-fourth-function-encode_code_system_to_module">The fourth function <code>encode_code_system_to_module</code></h3>
<p>The <strong><code>encode_code_system_to_module</code></strong> function is used to encode the code systems in a pandas data frame data to their corresponding module numbers based on the "code_system_to_module" dictionary returned from "detect_code_system_communities". It returns the original dataset with an additional column which indicates the module number this code belong to in the network.</p>
<h4 id="parameters_3">Parameters:</h4>
<ul>
<li><em>data</em>: the network created in the first function <em><code>create_code_system_network</code></em></li>
<li><em>modules</em>: defines the modules detected in the second function <em>"detect_code_system_communities"</em></li>
<li><em>output_col</em>: specifies the desired name of the added column, by default the column name is module_numnber unless changed.</li>
</ul>
<p>It is imporatant to change the column name after the argument "<em>output_col</em>" if the used will perform modularity encoding on more than one code system in the same dataset to prevent overwriting the same column. </p>
<p>The function can be called as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">encoded_data</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">encode_code_system_to_module</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">modules</span><span class="p">,</span> <span class="n">output_col</span><span class="o">=</span><span class="s1">&#39;my_module_number&#39;</span><span class="p">)</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">encoded_data</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>patientid</th>
      <th>code_system</th>
      <th>module_number</th>
      <th>my_module_number</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>J15</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>B24</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>I50</td>
      <td>1</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>F06</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>

<p>Once the user have this column, it can be used in the model as it will have much less categories (dimensions), alternativlely it can be dummy encoded to binary variables or by other methods of encoding and won't cause much dispersity in the dataset.</p>
<h3 id="the-fifth-function-print_edge_list">The fifth function <code>print_edge_list</code></h3>
<p>The function <strong><code>print_edge_list</code></strong> will save the the network's edgelist in a csv file in the same work directory. The funtion takes two arguments: </p>
<ul>
<li><em>G</em> (<code>nx.Graph</code>): the graph object (G) </li>
<li>The CSV filename (<code>pd.DataFrame</code>), example (edgelist.csv)</li>
</ul>
<p>The function can be called as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="n">print_edge_list</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">print_edge_list</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s2">&quot;edgelist.csv&quot;</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>Edge list saved to file: edgelist.csv
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="n">edgelist</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;edgelist.csv&#39;</span><span class="p">)</span>
<a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="n">edgelist</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div>
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>source</th>
      <th>target</th>
      <th>weight</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>B24</td>
      <td>J15</td>
      <td>1</td>
    </tr>
    <tr>
      <th>1</th>
      <td>F06</td>
      <td>I50</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>

<h3 id="the-sixth-function-assign_module">The sixth function <code>assign_module</code></h3>
<p>The <code>assign_module</code> function maps a given code (or a list of codes) from the studied code system to its corresponding module. This function is especially useful when the user wishes to make new predictions and needs to find the corresponding encoding integer of a code in the code system.</p>
<h4 id="parameters_4">Parameters:</h4>
<ul>
<li><em>codes</em> (<code>str</code>): The code(s) from the code system that the user wants to map to a module. These codes should exist in the original dataset.</li>
<li><em>modules</em> (<code>dict</code>): A dictionary containing mappings from codes to modules, generated from the function <code>detect_code_system_communities</code>.</li>
</ul>
<h4 id="returns_1">Returns:</h4>
<ul>
<li>If the code(s) exists in the dictionary, the function returns the corresponding module.</li>
<li>If the code(s) does not exist in the dictionary, the function returns an appropriate error message indicating that the code is not present in the code-system-to-module mapping.</li>
</ul>
<h5 id="assumptions">Assumptions</h5>
<ul>
<li>The function assumes that the code entered is a string value and that it presented in the code system to module mapping (i.e. the original dataset).</li>
</ul>
<p>The function can be called as follows:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="c1"># for one code </span>
<a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;J15&quot;</span> <span class="c1"># example</span>
<a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="n">module_of_the_code</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">assign_module</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">modules</span><span class="p">)</span> 
<a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The module containig this code is module:&#39;</span><span class="p">,</span><span class="n">module_of_the_code</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>The module containig this code is module: 0
</code></pre></div>
<div class="highlight"><pre><span></span><code><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="c1"># for multiple codes</span>
<a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="n">codes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;J15&quot;</span><span class="p">,</span> <span class="s2">&quot;B24&quot;</span><span class="p">,</span> <span class="s2">&quot;A11&quot;</span><span class="p">]</span> <span class="c1"># example</span>
<a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="n">module_of_the_codes</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">assign_module</span><span class="p">(</span><span class="n">codes</span><span class="p">,</span> <span class="n">modules</span><span class="p">)</span> 
<a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The modules list containing these codes:&#39;</span><span class="p">,</span><span class="n">module_of_the_codes</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>The modules list containing these codes: [0, 0, &quot;The entered code &#39;A11&#39; is not present in the code system to module mapping.&quot;]
</code></pre></div>
<h2 id="user-example">User example</h2>
<p>Here's a full example of how to use the <strong><code>modularity_encoding</code></strong> package:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kn">import</span> <span class="nn">modularity_encoding.functions</span> <span class="k">as</span> <span class="nn">me</span>
<a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a>
<a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a><span class="c1"># import you dataset</span>
<a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a>    <span class="s1">&#39;patientid&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">2</span><span class="p">],</span>
<a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a>    <span class="s1">&#39;code_system&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;J15&#39;</span><span class="p">,</span> <span class="s1">&#39;B24&#39;</span><span class="p">,</span> <span class="s1">&#39;I50&#39;</span><span class="p">,</span> <span class="s1">&#39;F06&#39;</span><span class="p">]</span>
<a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="p">})</span>
<a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a>
<a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="c1"># one function </span>
<a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="n">G</span><span class="p">,</span> <span class="n">processed_data</span><span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">modularity_encode</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">code_system_col</span><span class="o">=</span><span class="s1">&#39;code_system&#39;</span><span class="p">,</span> <span class="n">patientid_col</span><span class="o">=</span><span class="s1">&#39;patientid&#39;</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span> <span class="n">output_col</span><span class="o">=</span><span class="s1">&#39;module_number&#39;</span><span class="p">)</span>
<a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="c1"># save the data with the new column</span>
<a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="n">processed_data</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s1">&#39;processed_data.csv&#39;</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="c1"># print or save the edgelist</span>
<a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="n">me</span><span class="o">.</span><span class="n">print_edge_list</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s2">&quot;edgelist.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a>
<a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="c1"># Consecutive functions (must be run in this order)</span>
<a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="c1"># create the network </span>
<a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="n">G</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">create_code_system_network</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">code_system_col</span><span class="o">=</span><span class="s1">&#39;code_system&#39;</span><span class="p">,</span> <span class="n">patientid_col</span><span class="o">=</span><span class="s1">&#39;patientid&#39;</span><span class="p">)</span>
<a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a>
<a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="c1"># detect the modules in the network </span>
<a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="n">modules</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">detect_code_system_communities</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="mi">42</span><span class="p">,</span><span class="n">resolution</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1"># change resolution if needed</span>
<a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a>
<a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="c1"># assign the codes of the targeted code system to their correponding module id </span>
<a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="n">encoded_data</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">encode_code_system_to_module</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">modules</span><span class="p">,</span> <span class="n">output_col</span><span class="o">=</span><span class="s1">&#39;my_module_number&#39;</span><span class="p">)</span>
<a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a>
<a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="c1"># print the data</span>
<a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a>
<a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="c1"># print th network&#39;s edgelist  </span>
<a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="n">print_edge_list</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">print_edge_list</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="s2">&quot;edgelist.csv&quot;</span><span class="p">)</span>
<a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="c1"># in case of implementing the function on other code system in the same dataset remember to specify the new &quot;code_system_col&quot; </span>
<a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="c1"># and to change the &quot;output_col&quot; name. </span>
<a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a>
<a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="c1"># To make new prediction the user can use this function to map the code in the code system to its correponding module</span>
<a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="c1"># map codes&#39; modules to make new predictions</span>
<a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="n">code</span> <span class="o">=</span> <span class="s2">&quot;J15&quot;</span>
<a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="n">module_of_the_code</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">assign_module</span><span class="p">(</span><span class="n">code</span><span class="p">,</span> <span class="n">modules</span><span class="p">)</span> 
<a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="nb">print</span><span class="p">(</span><span class="n">module_of_the_code</span><span class="p">)</span>
<a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a>
<a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a><span class="c1"># for multiple codes</span>
<a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a><span class="n">codes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;J15&quot;</span><span class="p">,</span> <span class="s2">&quot;B24&quot;</span><span class="p">,</span> <span class="s2">&quot;A11&quot;</span><span class="p">]</span> <span class="c1"># example</span>
<a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a><span class="n">module_of_the_codes</span> <span class="o">=</span> <span class="n">me</span><span class="o">.</span><span class="n">assign_module</span><span class="p">(</span><span class="n">codes</span><span class="p">,</span> <span class="n">modules</span><span class="p">)</span> 
<a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;The modules list containing these codes:&#39;</span><span class="p">,</span><span class="n">module_of_the_codes</span><span class="p">)</span>
</code></pre></div>
<div class="highlight"><pre><span></span><code>100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 6/6 [00:00&lt;?, ?it/s]


Edge list saved to file: edgelist.csv


100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 6/6 [00:00&lt;?, ?it/s]

   patientid code_system  module_number  my_module_number
0          1         J15              0                 0
1          1         B24              0                 0
2          2         I50              1                 1
3          2         F06              1                 1
Edge list saved to file: edgelist.csv
0
The modules list containing these codes: [0, 0, &quot;The entered code &#39;A11&#39; is not present in the code system to module mapping.&quot;]
</code></pre></div>
<h2 id="faq">FAQ</h2>
<p><strong>1. What is this package used for?</strong></p>
<p>This package provides a set of functions to create a network from patient data, detect communities in the network, and encode the code systems to their corresponding module numbers. It can be used for analyzing patterns and relationships among different medical code systems in patient data.</p>
<p><strong>2. What are some common use cases for this package?</strong></p>
<p>The package can be used to group any code system that can be aggragted on a level (for example the patient level). It is especially useful for high-dimensional code systems such as the International Classification of Diseases (ICD) codes, Anatomical Therapeutic Chemical (ATC) codes, Diseases Related Group (DRG) codes in the health domain, Current Procedural Terminology (CPT) codes, and Systematized Nomenclature of Medicine (SNOMED) codes. </p>
<p><strong>3. What is a code system?</strong></p>
<p>A code system is a standardized system of codes used to represent medical concepts, such as diagnoses, procedures, and medications. Examples of code systems include ICD-10, CPT, ATC, RxNorm, etc.</p>
<p><strong>4. What is a network?</strong></p>
<p>In the context of this package, a network is a graph representation of the relationships among different code systems based on the number of shared patients. Each code system is a node, and the number of shared patients between two code systems is the weight of the edge between them.</p>
<p><strong>5. What is a community in a network?</strong></p>
<p>A community in a network is a group of nodes that are more densely connected to each other than to the rest of the network. In the context of this package, a community represents a group of code systems that tend to co-occur in patients more frequently than with the other codes in the code systems.</p>
<p><strong>6. What is module encoding?</strong></p>
<p>Module encoding is the process of mapping each code system to its corresponding community module number. This allows for easier analysis and visualization of the relationships among code systems in the network.</p>
<p><strong>7. How do I install this package?</strong></p>
<p>The package can be installed using <code>pip</code> install. The package dependencies (see above) have to be installed as well.</p>
<p><strong>8. What format does the input data need to be in?</strong></p>
<p>The input data needs to be a Pandas DataFrame with columns for patient IDs and code systems. The column names for these two columns can be specified as arguments to the <code>create_code_system_network</code> function.</p>
<p><strong>9. What is the output of the <code>detect_code_system_communities</code> function?</strong></p>
<p>The output of this function is a dictionary that maps each code system to its corresponding community module number.</p>
<p><strong>10. What is an edge list?</strong></p>
<p>An edge list is a way of representing the edges (connections) between nodes (points) in a network. It is a table with three columns representing tha pair of nodes that are connected in the network and a third column representing the weight of the connections, which in this case is the number of patients who share the nodes. The edge list can be used to create a visualization of the network or to perform further analysis using other software tools.</p>
<p><strong>11. How do I save the network as an edge list?</strong></p>
<p>The <code>print_edge_list</code> function to save the network as an edge list in a CSV file in the same working directory. By default, the CSV file name is "edgelist.csv" but the name can be specified as an argument in the function.</p>
<p><strong>12. How can I implement other network measures on the created Netwrok?</strong></p>
<p>The created Network is a NetworkX object , which means that all measures implemented in NetworkX package can be applied on the created network by importing NetworkX.</p>
<p><strong>13. How can I visualize the network created by the <code>create_code_system_network</code> function?</strong></p>
<p>As mentioned, the function returns a NetworkX graph object, which can be visualized using the built-in plotting functions provided by the networkx and matplotlib libraries. You can also export the graph as an edge list using the print_edge_list() function and use external tools to create custom visualizations such as Gephi.</p>
<p><strong>14. How can I interpret the module numbers assigned by the <code>detect_code_system_communities</code> function?</strong></p>
<p>The <code>detect_code_system_communities</code> function uses the Louvain method to identify groups of related code systems based on their shared patients. Each module is assigned a unique integer label, which can be used to group code systems together for further analysis. The meaning of the module labels will depend on the specific dataset and application and the used code system.</p>
<p><strong>15. Can this package be used with data from any type of healthcare provider or system?</strong></p>
<p>Yes, as long as the data is in a format that can be read by Pandas and the necessary columns are included in the input data.</p>
<p><strong>16. Are there any limitations to the size of dataset that can be analyzed using this package?</strong></p>
<p>The size of the dataset that can be analyzed will depend on the hardware available and the specific use case. However, this package includes optimizations such as using <code>NetworkX</code> graphs to efficiently represent and analyze the data, and using <code>tqdm</code> library to display progress bars during processing.</p>
<p><strong>17.In case of making new predictions, how can I determine the assigned module for the code system?</strong></p>
<p>You can use the <code>assign_module</code> function to map the code to its correpoding module interger id (corresponds to the encdoing number of this code). The code entered must be a string value and must have been in the original dataset.</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      

        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
<script defer src="https://mohsenaskar.github.io/python-libraries-docs/assets/js/visit-counter.js"></script>

    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.indexes", "navigation.expand", "navigation.top", "search.highlight", "search.share", "toc.integrate", "toc.follow", "navigation.sections"], "search": "../../assets/javascripts/workers/search.6ce7567c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.88dd0f4e.min.js"></script>
      
    
  </body>
</html>